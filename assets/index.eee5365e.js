var ve=Object.defineProperty,be=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var me=(u,t,a)=>t in u?ve(u,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[t]=a,b=(u,t)=>{for(var a in t||(t={}))ce.call(t,a)&&me(u,a,t[a]);if(te)for(var a of te(t))ie.call(t,a)&&me(u,a,t[a]);return u},P=(u,t)=>be(u,Se(t));var $=(u,t)=>{var a={};for(var n in u)ce.call(u,n)&&t.indexOf(n)<0&&(a[n]=u[n]);if(u!=null&&te)for(var n of te(u))t.indexOf(n)<0&&ie.call(u,n)&&(a[n]=u[n]);return a};import{R as e,F as d,r as f,a as ye,m as re,I as y,b as M,S as B,C as Ce,T as xe,c as pe,d as C,D as de,U as ke,B as N,e as Pe,f as J,g as Ne,l as Ie,M as j,P as fe,h as I,i as Be,j as K,k as ae,n as W,o as Z,p as we,q as Oe,s as Ae,t as De}from"./vendor.fe37e369.js";const Le=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}};Le();function Te(u,t,a){const{max:n,min:r,message:l,rules:c}=u,o=Ve(a,c);return o<r||o>n?Promise.reject(l):Promise.resolve()}function Ve(u,t){u=u||"";const{zh:a,others:n,blank:r}=t;let l=0,c=0,o=0;const s=/[\u4e00-\u9fa5]+/g,i=/【|】|、|；|‘|’|，|。|～|！|（|）|—|「|」|：|“|”|《|》|？+/g,p=/\s+/g;return u=u.replace(/[\r\n]/g,""),u=u.replace(/&nbsp;/g," "),u=u.replace(s,m=>(l=l+m.length,"")),u=u.replace(i,m=>(c=c+m.length,"")),r||(u=u.replace(p,"")),o=u.length,(l+c)*a+o*n}const ne=new WeakMap;class X{constructor(t,a,n,r,l){this.publicStates={},this.allDisabledIsLockedToTrue=!1,this.forceRenderMark=!1,this.ref=t,this.schemaModel=this.parseSchemaModel(n,r),l&&(this.publicStates=l),this.forceLeggoFormRender=()=>{this.forceRenderMark=!this.forceRenderMark,a(c=>c+1)}}static createRules(t,a){return a?[...t,{validator:Te.bind(null,a)}]:t}static createChildren(t){if(!t)return;const a=typeof t;if(a==="function"){const n=t;return e.createElement(n,null)}if(a==="string")return t}parseSchemaModel(t,a){try{t==null||t.schemaList.forEach((n,r)=>{n.linkingStringedNames=new Set,n.getStringedName=()=>String(n.configs.itemProps.name),a&&a(n.configs,r)})}catch(n){re.error("\u89E3\u6790\u5931\u8D25!"),console.log(n)}finally{return t}}resetSchemaModel(t,a,n){this.schemaModel=this.parseSchemaModel(t,a),n&&(this.publicStates=n),this.forceLeggoFormRender()}updateSchema(t,a){var r,l;const n=(r=this.schemaModel)==null?void 0:r.schemaList.find(c=>c.getStringedName()===String(t));if(n){const{configs:c}=n;a(c),(l=n.forceLeggoFormItemRender)==null||l.call(n)}}lockAllDisabledToTrue(t=!0){this.allDisabledIsLockedToTrue=t,this.schemaModel.schemaList.forEach(a=>a.configs.inputProps.disabled=t),this.forceLeggoFormRender()}}function ue(u){var s;const o=u,{leggo:t,onFieldsChange:a}=o,n=$(o,["leggo","onFieldsChange"]),{formProps:r,schemaList:l}=((s=ne.get(t.ref))==null?void 0:s.schemaModel)||{},c=(i,p)=>{i.forEach(({name:m,value:E})=>{const g=l.find(F=>F.getStringedName()===String(m));g&&(g.currentItemValue=E,g.linkingStringedNames.forEach(F=>{l.find(S=>S.getStringedName()===F).forceLeggoFormItemRender()}))}),a==null||a(i,p)};return e.createElement(d,P(b(b({},r),n),{onFieldsChange:c}),l==null?void 0:l.map(i=>e.createElement(Me,{key:i.id,leggo:t,schema:i,schemaList:l})))}ue.useLeggo=(u,t,a)=>{let n=null;const r=f.exports.useRef(null),[,l]=f.exports.useState(0);return ne.has(r)||(n=new X(r,l,u,t,a),ne.set(r,n)),n||ne.get(r)};function Me(u){var U,Q,Y,z;const{leggo:t,schema:a,schemaList:n}=u,{type:r,configs:l,needDefineGetterProps:c}=a,{itemProps:o,inputProps:s,extra:i,postman:p,Successor:m,SuperSuccessor:E}=l,g=((U=p==null?void 0:p.params)==null?void 0:U.map(x=>x.value))||[],F=((Q=p==null?void 0:p.data)==null?void 0:Q.map(x=>x.value))||[],h=((Y=R.total[r])==null?void 0:Y.StandardInput)||(()=>e.createElement("div",null)),S=X.createRules(o.rules,i==null?void 0:i.wordsLimit),D=X.createChildren(i==null?void 0:i.childrenNode),[,q]=f.exports.useState(0);return f.exports.useMemo(()=>{a.forceLeggoFormItemRender=()=>q(x=>x+1),Object.values(c).forEach(x=>{const{observedStringedName:L,namepath:w,publicStateKey:T,reference:k,rule:H}=x,ee=L==="publicStates",O=n.find(v=>v.getStringedName()===L),A=w.slice(0,-1).reduce((v,_)=>v[_],l),V=w.slice(-1)[0],le=typeof A[V];!ee&&O.linkingStringedNames.add(a.getStringedName()),Reflect.defineProperty(A,V,{set:()=>null,get:()=>{if(V==="disabled"&&t.allDisabledIsLockedToTrue)return!0;let v=O==null?void 0:O.currentItemValue;if(ee){const _=t.publicStates[T];return typeof _=="function"?_():_}if(k&&H)switch(v=v==null?void 0:v.toString(),H){case"<":v=v<k;break;case"<=":v=v<=k;break;case"===":v=v===k;break;case"!==":v=v!==k;break;case">=":v=v>=k;break;case">":v=v>k}else switch(le){case"boolean":v=Boolean(v);break;case"number":v=Number(v);break;case"string":v=v==null?void 0:v.toString()}return H==="!"?!v:v}})})},[t.forceRenderMark]),f.exports.useEffect(()=>{const{method:x,url:L,params:w,data:T,responseNamepath:k}=p||{};if(x&&L){const H=w==null?void 0:w.reduce((O,A)=>(O[A.key]=A.value===""?void 0:A.value,O),{}),ee=T==null?void 0:T.reduce((O,A)=>(O[A.key]=A.value,O),{});ye({method:x,url:L,params:H,data:ee}).then(O=>{const A=k.split(".").slice(1).reduce((V,le)=>V==null?void 0:V[le],O);l.inputProps.options=A,q(V=>V+1)})}},[...g,...F]),E?e.createElement(E,null):m?e.createElement(d.Item,{label:o.label,required:(z=S==null?void 0:S[0])==null?void 0:z.required},e.createElement(m,null,e.createElement(d.Item,P(b({},o),{rules:S,noStyle:!0}),e.createElement(h,b({},s),D)))):e.createElement(d.Item,P(b({},o),{rules:S}),e.createElement(h,b({},s),D))}class Re{constructor(t,a){this.getStringedName=()=>String(this.configs.itemProps.name),this.id=Date.now().toString(),this.type=t,this.configs=Ie.exports.cloneDeep(a).configs,this.currentItemValue=null,this.needDefineGetterProps={};const n=this.configs.itemProps.name;n!==void 0&&(this.configs.itemProps.name=n+Math.random().toString(36).substring(2,5))}}function ge(u){const{StandardInput:t,configs:a}=u,{itemProps:n,inputProps:r,extra:l}=a;return e.createElement(d.Item,P(b({},n),{rules:X.createRules(n.rules,l==null?void 0:l.wordsLimit)}),e.createElement(t,b({},r),X.createChildren(l==null?void 0:l.childrenNode)))}const Ee={input:{type:"input",StandardInput:y,configs:{itemProps:{name:"input",label:"\u6807\u9898",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u8F93\u5165",allowClear:!1,maxLength:void 0,bordered:!0,id:""},extra:{wordsLimit:null}}},inputTexArea:{type:"inputTexArea",StandardInput:y.TextArea,configs:{itemProps:{name:"inputTexArea",label:"\u591A\u884C\u6587\u672C",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u672C\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u8F93\u5165",rows:4,autoSize:!1,allowClear:!1,maxLength:void 0,showCount:!1,bordered:!0},extra:{wordsLimit:null}}},inputPassword:{type:"inputPassword",StandardInput:y.Password,configs:{itemProps:{name:"inputPassword",label:"\u5BC6\u7801",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u8F93\u5165",visibilityToggle:!0}}},inputNumber:{type:"inputNumber",StandardInput:M,configs:{itemProps:{name:"inputNumber",label:"\u6570\u5B57",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u5B57\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u8F93\u5165",max:void 0,min:void 0,bordered:!0,step:"1",controls:!0,decimalSeparator:void 0,precision:0,readOnly:!1,keyboard:!0,autoFocus:!1}}},select:{type:"select",StandardInput:B,configs:{itemProps:{name:"select",label:"\u9009\u9879",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u9009\u62E9",options:[{label:"A",value:1},{label:"B",value:2}],bordered:!0,allowClear:!1,showArrow:!0,showSearch:!1,autoClearSearchValue:!0,mode:void 0,optionFilterProp:"value",filterOption:!0,defaultActiveFirstOption:!0,dropdownMatchSelectWidth:!0,listHeight:256,maxTagCount:void 0,maxTagTextLength:void 0,defaultOpen:!1,virtual:!0,autoFocus:!1}}},cascader:{type:"cascader",StandardInput:Ce,configs:{itemProps:{name:"cascader",label:"\u8054\u7EA7\u9009\u62E9",initialValue:[],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u9009\u62E9",options:[{label:"A",value:1,children:[{value:"nanjing",label:"Nanjing",children:[{label:"Zhong Hua Men",value:"zhonghuamen"}]}]},{label:"B",value:2,children:[{label:"West Lake",value:"xihu"}]}],allowClear:!0,showSearch:!1,bordered:!0,notFoundContent:"\u65E0\u6570\u636E",popupPlacement:"bottomLeft",className:"",popupClassName:"",changeOnSelect:!1,expandTrigger:"click",autoFocus:!1}}},treeSelect:{type:"treeSelect",StandardInput:xe,configs:{itemProps:{name:"treeSelect",label:"\u6811\u9009\u62E9",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u9009\u62E9",treeData:[{title:"A",value:1,children:[{title:"Nanjing",value:"nanjing",children:[{title:"Zhong Hua Men",value:"zhonghuamen"}]}]},{title:"B",value:2,children:[{title:"West Lake",value:"xihu"}]}],allowClear:!1,autoClearSearchValue:!0,showArrow:!0,showSearch:!1,bordered:!0,multiple:!1,treeCheckable:!1,treeCheckStrictly:!1,treeDefaultExpandAll:!1,dropdownClassName:"",dropdownMatchSelectWidth:!0,listHeight:256,virtual:!0}}},checkboxGroup:{type:"checkboxGroup",StandardInput:pe.Group,configs:{itemProps:{name:"checkboxGroup",label:"\u591A\u9009",initialValue:[],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,options:[{label:"A",value:1},{label:"B",value:2}]}}},checkbox:{type:"checkbox",StandardInput:pe,configs:{itemProps:{name:"checkbox",label:"\u52FE\u9009\u5F00\u5173",valuePropName:"checked",initialValue:!1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,indeterminate:!1,autoFocus:!1}}},radioGroup:{type:"radioGroup",StandardInput:C.Group,configs:{itemProps:{name:"radioGroup",label:"\u5355\u9009",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,options:[{label:"A",value:1},{label:"B",value:2}],autoFocus:!1,optionType:"default",buttonStyle:"outline"}}},datePicker:{type:"datePicker",StandardInput:de,configs:{itemProps:{name:"datePicker",label:"\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65E5\u671F\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,placeholder:"\u8BF7\u9009\u62E9",picker:"date",allowClear:!0,bordered:!0,showNow:!0,showTime:!1,showToday:!0,className:"",dropdownClassName:"",inputReadOnly:!1,autoFocus:!1}}},rangePicker:{type:"rangePicker",StandardInput:de.RangePicker,configs:{itemProps:{name:"rangePicker",label:"\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65E5\u671F\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,picker:"day",format:""}}},upload:{type:"upload",StandardInput:ke,configs:{itemProps:{name:"upload",label:"\u4E0A\u4F20",valuePropName:"fileList",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,method:"post",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:"",listType:"picture",showUploadList:!0,directory:!1,maxCount:void 0,multiple:!1,name:"file",withCredentials:!1,openFileDialogOnClick:!0},extra:{childrenNode:()=>e.createElement(N,{icon:e.createElement(Pe,null)},"Click to Upload")}}},switch:{type:"switch",StandardInput:J,configs:{itemProps:{name:"switch",label:"\u5F00\u5173",valuePropName:"checked",initialValue:!1,rules:[{required:!1,message:""}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,className:"",autoFocus:!1}}},empty:{type:"empty",StandardInput:()=>e.createElement("div",null,"\u5360\u4F4D\u8868\u5355\u4EC5\u4F5C\u4E3A\u8868\u5355\u7ED3\u6784\u7684\u4E00\u90E8\u5206\uFF0C\u8868\u5355\u5B9E\u9645\u6E32\u67D3\u524D\u5C06\u88AB\u4E2D\u95F4\u4EF6\u8BC6\u522B\u5E76\u66FF\u6362\uFF01"),configs:{itemProps:{name:"empty",label:"\u5360\u4F4D\u8868\u5355",initialValue:void 0,rules:[{required:!0,message:""}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1},extra:{mark:""}}},submit:{type:"submit",StandardInput:N,configs:{itemProps:{label:"",wrapperCol:{offset:8},noStyle:!1,hidden:!1},inputProps:{disabled:!1,type:"primary",htmlType:"submit",block:!1,danger:!1,ghost:!1,shape:void 0},extra:{childrenNode:"Submit"}}},slider:{type:"slider",StandardInput:Ne,configs:{itemProps:{name:"slider",label:"\u6ED1\u52A8\u8F93\u5165",initialValue:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],noStyle:!1,trigger:"onChange",hidden:!1},inputProps:{disabled:!1,allowClear:!1,max:100,min:0,dots:!1,included:!0,reverse:!1,step:1,tooltipPlacement:void 0,tooltipVisible:!1,vertical:!1}}}},R={total:b({},Ee),antd:Ee},qe={labelCol:{span:6},wrapperCol:{span:14}};function Je(){const[u,t]=f.exports.useState("antd"),a=f.exports.useMemo(()=>Ge(u),[u]),n=f.exports.useMemo(()=>Object.keys(R).map(r=>e.createElement(j.Item,{key:r},r)),[]);return e.createElement(f.exports.Fragment,null,e.createElement("div",null,e.createElement("div",{className:"top-area"},e.createElement("strong",null,"\u7EC4\u4EF6\u5E93")),e.createElement(j,{defaultSelectedKeys:["antd"],mode:"inline",onSelect:({key:r})=>t(r)},n)),e.createElement("div",{className:"leggo-configs-left"},e.createElement(d,b({},qe),e.createElement("div",{className:"leggo-configs-left-form-content"},a))))}function Ge(u){const t=[],a=R[u],n=r=>{const l=r.target.dataset.type;r.dataTransfer.setData("text/plain",l)};for(const r of Object.values(a)){const{type:l,StandardInput:c,configs:o}=r,s=e.createElement("div",{key:l,className:"item",draggable:!0,onDragStart:n,"data-type":l},e.createElement("div",{className:"item-forbidden"},e.createElement(ge,{StandardInput:c,configs:o})));t.push(s)}return t}function G(u){const{namepath:t,targetType:a,activeSchema:n,schemaListOptions:r}=u,l=n.current.needDefineGetterProps,c=t.join(),o=l[c],[s]=d.useForm(),[i,p]=f.exports.useState(!1),[m,E]=f.exports.useState(!1),[g,F]=f.exports.useState(""),[h,S]=f.exports.useState(!0),[D,q]=f.exports.useState((o==null?void 0:o.observedStringedName)==="publicStates"),U=z=>{const{observedStringedName:x,publicStateKey:L,rule:w,reference:T}=z||{};if(!x){F(""),S(!0);return}let k="";if(x==="publicStates")k=`publicStates[${L}] \u6216 publicStates[${L}]()`;else switch(a){case"boolean":k=`Boolean(${x}.value)`;break;case"number":k=`Number(${x}.value)`;break;default:k=`${x}.value?.toString()`}w&&T&&(k=`${x}.value?.toString() ${w} "${T}"`),w==="!"&&(k=`!(${k})`),q(x==="publicStates"),F(k),S(!1)},Q=()=>{s.validateFields().then(z=>{const{observedStringedName:x,publicStateKey:L,rule:w,reference:T}=z,k={observedStringedName:x,publicStateKey:L,namepath:t,reference:T,rule:w};l[c]=k,p(!1)})},Y=()=>{delete l[c],p(!1)};return f.exports.useEffect(()=>{i?(o?s.setFieldsValue(o):s.resetFields(),U(o)):E(!!o)},[i]),e.createElement(fe,{placement:"topLeft",trigger:"click",title:"\u8BBE\u7F6E\u5173\u8054\u503C",visible:i,onVisibleChange:p,content:e.createElement("div",null,e.createElement(d,{form:s,onValuesChange:(z,x)=>U(x)},e.createElement(d.Item,{label:"\u5173\u8054\u5BF9\u8C61",name:"observedStringedName",required:!0},e.createElement(B,{options:r})),D&&e.createElement(d.Item,{label:"\u516C\u5171\u72B6\u6001key\u540D",name:"publicStateKey",required:!0},e.createElement(y,null)),e.createElement(d.Item,{label:"\u8BA1\u7B97\u89C4\u5219",name:"rule"},e.createElement(B,null,e.createElement(B.Option,{value:"!"},"!\u5173\u8054\u503C\u53D6\u53CD"),e.createElement(B.Option,{value:"<"},"\u5173\u8054\u503C < \u53C2\u8003\u503C"),e.createElement(B.Option,{value:"<="},"\u5173\u8054\u503C \u2264 \u53C2\u8003\u503C"),e.createElement(B.Option,{value:"==="},"\u5173\u8054\u503C === \u53C2\u8003\u503C"),e.createElement(B.Option,{value:"!=="},"\u5173\u8054\u503C !== \u53C2\u8003\u503C"),e.createElement(B.Option,{value:">="},"\u5173\u8054\u503C \u2265 \u53C2\u8003\u503C"),e.createElement(B.Option,{value:">"},"\u5173\u8054\u503C > \u53C2\u8003\u503C"))),e.createElement(d.Item,{label:"\u53C2\u8003\u503C",name:"reference"},e.createElement(y,{prefix:'"',suffix:'"',placeholder:"\u53C2\u8003\u503C"})),e.createElement(d.Item,{label:"\u5173\u8054\u7ED3\u679C\uFF1A"},e.createElement("div",null,g))),e.createElement(I,null,e.createElement(N,{disabled:h,onClick:Q,type:"primary"},"\u786E\u5B9A"),e.createElement(N,{disabled:h,onClick:Y,danger:!0},"\u5220\u9664\u5173\u8054")))},e.createElement(N,{type:m?"link":"text",icon:e.createElement(Be,null)}))}const ze=(u,t)=>P(b({},u),{[t.type]:t.payload});function je(u){const{extra:t,forceRender:a}=u,[n,r]=f.exports.useState(!1),l=f.exports.useRef({max:10,min:1,message:"\u8F93\u5165\u5B57\u7B26\u6570\u9700\u8981\u57281\uFF5E10\u4E4B\u95F4\uFF01",rules:{zh:1,others:1,blank:!0}}),[c,o]=f.exports.useReducer(ze,l.current.rules),s=m=>{t.wordsLimit=m?l.current:null,r(m)},i=(m,E)=>{l.current[m]=E,o({type:m,payload:E}),a()},p=(m,E)=>{l.current[m]=E,a()};return e.createElement("div",null,e.createElement("strong",null,"wordsLimit\uFF1A"),e.createElement(J,{checked:n,checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",onChange:s}),e.createElement(fe,{trigger:"click",content:e.createElement("div",{className:"words-count-configs-content"},e.createElement("div",null,e.createElement("span",{className:"title"},"\u6C49\u5B57\uFF1A"),e.createElement(C.Group,{onChange:m=>i("zh",m.target.value),value:c.zh},e.createElement(C,{value:1},"1\u4E2A"),e.createElement(C,{value:2},"2\u4E2A"))),e.createElement(K,null),e.createElement("div",null,e.createElement("span",{className:"title"},"\u5176\u5B83\u5B57\u7B26\uFF1A"),e.createElement(C.Group,{onChange:m=>i("others",m.target.value),value:c.others},e.createElement(C,{value:.5},"0.5\u4E2A"),e.createElement(C,{value:1},"1\u4E2A"))),e.createElement(K,null),e.createElement("div",null,e.createElement("span",{className:"title"},"\u7A7A\u683C\uFF1A"),e.createElement(C.Group,{onChange:m=>i("blank",m.target.value),value:c.blank},e.createElement(C,{value:!0},"\u5305\u542B"),e.createElement(C,{value:!1},"\u4E0D\u5305\u542B"))))},e.createElement(N,{type:"link",size:"small"},"\u5B57\u7B26\u6570\u7EDF\u8BA1\u89C4\u5219")),n&&e.createElement("div",{className:"configs-area"},e.createElement(I,null,e.createElement("strong",null,"max\uFF1A"),e.createElement(M,{min:1,defaultValue:l.current.max,onChange:m=>p("max",m),bordered:!1})),e.createElement(I,null,e.createElement("strong",null,"min\uFF1A"),e.createElement(M,{min:0,defaultValue:l.current.min,onChange:m=>p("min",m),bordered:!1})),e.createElement(I,null,e.createElement("strong",null,"message\uFF1A"),e.createElement(y,{prefix:'"',suffix:'"',defaultValue:l.current.message,onChange:m=>p("message",m.target.value)}))))}function he(u){const{propOwner:t,propName:a,forceRender:n}=u,[r,l]=f.exports.useState(""),c=()=>{try{t[a]=JSON.parse(r),n()}catch(o){re.error(`${a}\u503C\u8BF7\u8F93\u5165\u6B63\u786EJSON\u683C\u5F0F\uFF01`)}};return f.exports.useEffect(()=>{l(JSON.stringify(t[a]))},[]),e.createElement(I,null,e.createElement("strong",null,a,"\uFF1A"),e.createElement(y,{value:r,onChange:o=>l(o.target.value),onBlur:c,placeholder:"\u8BF7\u8F93\u5165JSON\u683C\u5F0F\uFF01",addonAfter:"JSON"}))}function se(u){const{propOwner:t,namepath:a,propName:n,propDefaultValue:r,activeSchema:l,schemaListOptions:c,forceRender:o}=u,s=f.exports.useRef(typeof r),[i,p]=f.exports.useState(r),m=E=>{t[n]=E,p(E),o()};switch(n){case"name":return e.createElement(he,{propOwner:t,propName:"name",forceRender:o});case"initialValue":return e.createElement(he,{propOwner:t,propName:"initialValue",forceRender:o});case"wordsLimit":return e.createElement(je,{extra:t,forceRender:o})}switch(s.current){case"object":const E=r,g=Object.entries(E);return e.createElement("div",null,e.createElement("strong",null,n,"\uFF1A"),e.createElement("div",{className:"configs-area"},g.map(([F,h])=>e.createElement(se,{key:F,propOwner:E,namepath:[...a,F],propName:F,propDefaultValue:h,activeSchema:l,schemaListOptions:c,forceRender:o}))));case"boolean":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),e.createElement(J,{checked:i,onChange:m}),e.createElement(G,{activeSchema:l,targetType:"boolean",namepath:a,schemaListOptions:c}));case"string":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),e.createElement(y,{prefix:'"',suffix:'"',value:i,onChange:F=>m(F.target.value)}),e.createElement(G,{activeSchema:l,targetType:"string",namepath:a,schemaListOptions:c}));case"number":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),e.createElement(M,{value:i,onChange:m,bordered:!1}),e.createElement(G,{activeSchema:l,targetType:"number",namepath:a,schemaListOptions:c}));default:return null}}const $e={labelCol:{span:6},wrapperCol:{span:18}},Ke=[{label:"GET",value:"get"},{label:"POST",value:"post"},{label:"PUT",value:"put"},{label:"DELETE",value:"delete"}];function We(u){const{activeSchema:t,schemaListOptions:a}=u,n=(r,l)=>{const{method:c,url:o,params:s,data:i,responseNamepath:p}=l;t.current.configs.postman={propName:"options",method:c,url:o,responseNamepath:p,params:(s==null?void 0:s.filter(m=>m))||[],data:(i==null?void 0:i.filter(m=>m))||[]}};return e.createElement(d,P(b({},$e),{onValuesChange:n,initialValues:t.current.configs.postman}),e.createElement(d.Item,{label:"method",name:"method",required:!0},e.createElement(B,{options:Ke})),e.createElement(d.Item,{label:"url",required:!0},e.createElement("div",{style:{display:"flex"}},e.createElement(d.Item,{name:"url",noStyle:!0},e.createElement(y,{prefix:'"',suffix:'"'})),e.createElement(G,{activeSchema:t,targetType:"string",namepath:["postman","url"],schemaListOptions:a}))),e.createElement(d.Item,{label:"\u76EE\u6807\u503C\u8DEF\u5F84",name:"responseNamepath",required:!0},e.createElement(y,{prefix:'"',suffix:'"'})),e.createElement(d.Item,{label:"params"},e.createElement(d.List,{name:"params"},(r,{add:l,remove:c})=>e.createElement(f.exports.Fragment,null,r.map((E,m)=>{var g=E,{key:o,name:s,fieldKey:i}=g,p=$(g,["key","name","fieldKey"]);return e.createElement(I,{key:o,align:"baseline"},e.createElement(d.Item,P(b({},p),{name:[s,"key"],fieldKey:[i,"key"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49key"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"key"})),e.createElement("span",null,":"),e.createElement(G,{activeSchema:t,targetType:"string",namepath:["postman","params",m,"value"],schemaListOptions:a}),e.createElement(d.Item,P(b({},p),{name:[s,"value"],fieldKey:[i,"value"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49value"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"value"})),e.createElement(ae,{onClick:()=>c(s)}))}),e.createElement(d.Item,null,e.createElement(N,{type:"dashed",onClick:()=>l(),block:!0,icon:e.createElement(W,null)},"\u65B0\u589Ekey"))))),e.createElement(d.Item,{label:"data"},e.createElement(d.List,{name:"data"},(r,{add:l,remove:c})=>e.createElement(f.exports.Fragment,null,r.map((E,m)=>{var g=E,{key:o,name:s,fieldKey:i}=g,p=$(g,["key","name","fieldKey"]);return e.createElement(I,{key:o,align:"baseline"},e.createElement(d.Item,P(b({},p),{name:[s,"key"],fieldKey:[i,"key"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49key"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"key"})),e.createElement("span",null,":"),e.createElement(G,{activeSchema:t,targetType:"string",namepath:["postman","data",m,"value"],schemaListOptions:a}),e.createElement(d.Item,P(b({},p),{name:[s,"value"],fieldKey:[i,"value"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49value"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"value"})),e.createElement(ae,{onClick:()=>c(s)}))}),e.createElement(d.Item,null,e.createElement(N,{type:"dashed",onClick:()=>l(),block:!0,icon:e.createElement(W,null)},"\u65B0\u589Ekey"))))))}function Ue(u){const{activeSchema:t,handleChange:a}=u,[n]=d.useForm(),r=f.exports.useMemo(()=>t.current.configs.inputProps.options.map(o=>({label:o.label,value:JSON.stringify(o.value)})),[]),l=()=>{const o=n.getFieldsValue(!0).options.filter(s=>(s==null?void 0:s.label)!==void 0&&(s==null?void 0:s.value)!==void 0);try{const s=o.map(i=>({label:i.label,value:JSON.parse(i.value)}));s.length&&a(s)}catch(s){re.error("value\u503C\u8BF7\u6B63\u786E\u8F93\u5165JSON\u683C\u5F0F\uFF01")}};return e.createElement(f.exports.Fragment,null,e.createElement("div",null,e.createElement("strong",null,"*\u6CE8\u610Fvalue\u503C\u9700\u8981\u8F93\u5165JSON\u683C\u5F0F\uFF01")),e.createElement(d,{form:n},e.createElement(d.List,{name:"options",initialValue:r},(c,{add:o,remove:s})=>e.createElement(f.exports.Fragment,null,c.map(g=>{var F=g,{key:i,name:p,fieldKey:m}=F,E=$(F,["key","name","fieldKey"]);return e.createElement(I,{key:i,style:{display:"flex"},align:"start"},e.createElement(d.Item,P(b({},E),{name:[p,"label"],fieldKey:[m,"label"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49label"}]}),e.createElement(y,{placeholder:"label",prefix:'"',suffix:'"'})),e.createElement("span",null,":"),e.createElement(d.Item,P(b({},E),{name:[p,"value"],fieldKey:[m,"value"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49value"}]}),e.createElement(y,{onBlur:l,placeholder:"value",addonAfter:"JSON"})),e.createElement(ae,{onClick:()=>{s(p),l()}}))}),e.createElement(d.Item,null,e.createElement(N,{type:"dashed",onClick:()=>o(),block:!0,icon:e.createElement(W,null)},"\u65B0\u589E\u9009\u9879"))))))}function He(u){const{activeSchema:t,schemaListOptions:a,handleChangePropValue:n}=u,r=t.current.configs.postman,[l,c]=f.exports.useState(r?"dynamic":"static"),o=s=>{const i=s.target.value;i==="static"?t.current.configs.postman=void 0:t.current.configs.postman={propName:"options",method:"get",url:"https://www.",params:[],data:[],responseNamepath:"RESPONSE."},c(i)};return e.createElement("div",null,e.createElement("strong",null,"options\uFF1A"),e.createElement(C.Group,{size:"small",value:l,buttonStyle:"solid",onChange:o},e.createElement(C.Button,{value:"static"},"\u9759\u6001\u6570\u636E"),e.createElement(C.Button,{value:"dynamic"},"\u8FDC\u7A0B\u6570\u636E")),e.createElement("div",{className:"configs-area"},l==="static"?e.createElement(Ue,{activeSchema:t,handleChange:n}):e.createElement(We,{activeSchema:t,schemaListOptions:a})))}function _e(u){var F;const{propOwner:t,namepath:a,propName:n,propDefaultValue:r,activeSchema:l,schemaListOptions:c,forceRender:o}=u,[s,i]=f.exports.useState(r),p=f.exports.useMemo(()=>{var h;return((h=Fe[n])==null?void 0:h.type)||typeof r},[]),m=(F=Fe[n])==null?void 0:F.options,E=f.exports.useMemo(()=>m==null?void 0:m.map(h=>({label:h,value:h})),[]),g=h=>{t[n]=h,i(h),o()};switch(p){case"options":return e.createElement(He,{activeSchema:l,schemaListOptions:c,handleChangePropValue:g});case"boolean":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),e.createElement(J,{checked:s,onChange:g}),e.createElement(G,{activeSchema:l,targetType:"boolean",namepath:a,schemaListOptions:c}));case"string":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),m?e.createElement(B,{allowClear:!0,style:{minWidth:150},defaultValue:s,options:E,onChange:g}):e.createElement(y,{prefix:'"',suffix:'"',value:s,onChange:h=>g(h.target.value)}));case"number":return e.createElement(I,null,e.createElement("strong",null,n,"\uFF1A"),e.createElement(M,{value:s,onChange:g,bordered:!1}),e.createElement(G,{activeSchema:l,targetType:"number",namepath:a,schemaListOptions:c}));default:return null}}const Fe={options:{type:"options"},maxLength:{type:"number"},max:{type:"number"},min:{type:"number"},decimalSeparator:{type:"string"},maxTagCount:{type:"number"},maxTagTextLength:{type:"number"},mode:{type:"string",options:["multiple","tags"]},optionFilterProp:{type:"string",options:["label","value"]},popupPlacement:{type:"string",options:["bottomLeft","bottomRight","topLeft","topRight"]},expandTrigger:{type:"string",options:["click","hover"]},optionType:{type:"string",options:["default","button"]},buttonStyle:{type:"string",options:["outline","solid"]},picker:{type:"string",options:["time","date","week","month","quarter","year"]},listType:{type:"string",options:["text","picture","picture-card"]},maxCount:{type:"number"},type:{type:"string",options:["default","primary","link","text","ghost","dashed"]},htmlType:{type:"string",options:["submit","button","reset"]},shape:{type:"string",options:["circle","round"]},tooltipPlacement:{type:"string",options:["topLeft","top","topRight","leftTop","left","leftBottom","rightTop","right","rightBottom","bottomLeft","bottom","bottomRight"]}};function Ze(u){const{activeSchema:t,forceRender:a}=u,{inputProps:n}=t.current.configs,r=f.exports.useMemo(()=>{const{style:o}=n,s=[];if(o)for(const[i,p]of Object.entries(o))s.push({CSSPropertyName:i,value:p});return{styleList:s}},[]),l=f.exports.useRef(null),c=(o,s)=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{var p;const i=(p=s.styleList)==null?void 0:p.reduce((m,E)=>{const{CSSPropertyName:g,value:F}=E||{};return g&&F&&(m[g]=F),m},{});n.style=i,l.current=null,a()},500)};return e.createElement("div",null,e.createElement("strong",null,"style\uFF1A"),e.createElement(d,{onValuesChange:c,initialValues:r},e.createElement(d.List,{name:"styleList"},(o,{add:s,remove:i})=>e.createElement(f.exports.Fragment,null,o.map(F=>{var h=F,{key:p,name:m,fieldKey:E}=h,g=$(h,["key","name","fieldKey"]);return e.createElement(I,{key:p,style:{display:"flex",marginBottom:8},align:"baseline"},e.createElement(d.Item,P(b({},g),{name:[m,"CSSPropertyName"],fieldKey:[E,"CSSPropertyName"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49CSSPropertyName"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"CSSPropertyName"})),e.createElement("span",null,":"),e.createElement(d.Item,P(b({},g),{name:[m,"value"],fieldKey:[E,"value"],rules:[{required:!0,message:"\u8BF7\u5B9A\u4E49value"}]}),e.createElement(y,{prefix:'"',suffix:'"',placeholder:"value"})),e.createElement(ae,{onClick:()=>i(m)}))}),e.createElement(d.Item,null,e.createElement(N,{type:"dashed",onClick:()=>s(),block:!0,icon:e.createElement(W,null)},"\u65B0\u589Estyle\u5C5E\u6027"))))))}function Xe(u){const{activeSchema:t,schemaList:a,forceRender:n}=u,{id:r,configs:l}=t.current||{},{itemProps:c,inputProps:o,extra:s}=l||{},i=f.exports.useMemo(()=>Object.entries(c||{}),[t.current]),p=f.exports.useMemo(()=>Object.entries(o||{}),[t.current]),m=f.exports.useMemo(()=>Object.entries(s||{}),[t.current]),E=[{label:"\u516C\u5171\u72B6\u6001 - publicStates",value:"publicStates"}].concat(a.map(g=>{const{label:F,name:h}=g.configs.itemProps;return{label:`${F} - ${String(h)}`,value:String(h)}}));return e.createElement("div",{className:"leggo-configs-right"},e.createElement("div",{className:"top-area"},e.createElement("strong",null,"\u5C5E\u6027\u914D\u7F6E")),e.createElement("div",{className:"scroll-container"},e.createElement("div",{className:"configs-area"},e.createElement(K,null,"ItemProps"),i.map(([g,F])=>e.createElement(se,{key:r+g,propOwner:c,namepath:["itemProps",g],propName:g,propDefaultValue:F,activeSchema:t,schemaListOptions:E,forceRender:n}))),e.createElement("div",{className:"configs-area"},e.createElement(K,null,"InputProps"),t.current&&e.createElement(Ze,{key:r,activeSchema:t,forceRender:n}),p.map(([g,F])=>e.createElement(_e,{key:r+g,propOwner:o,namepath:["inputProps",g],propName:g,propDefaultValue:F,activeSchema:t,schemaListOptions:E,forceRender:n}))),e.createElement("div",{className:"configs-area"},e.createElement(K,null,"Extra"),m.map(([g,F])=>e.createElement(se,{key:r+g,propOwner:s,namepath:["extra",g],propName:g,propDefaultValue:F,activeSchema:t,schemaListOptions:E,forceRender:n})))))}function Qe(u){const{index:t,targetIndex:a,activeSchema:n,schema:r,setSchemaList:l,forceRender:c}=u,{id:o,type:s,configs:i}=r,p=R.total[s].StandardInput,m=n.current===r,E=S=>{S.stopPropagation(),m&&(n.current=null),l(D=>D.filter(q=>q.id!==o)),c()},g=S=>{S.stopPropagation(),n.current=r,c()},F=()=>{a.current=t},h=()=>{l(S=>{const D=S[a.current];return S[a.current]=S[t],S[t]=D,S}),c()};return e.createElement("div",{draggable:!0,className:`dropped-item ${m?"active-item":""}`,onClick:g,onDragEnd:h,onDragEnter:F},e.createElement(N,{type:"text",className:"delete-butt",onClick:E},"X"),e.createElement(ge,{StandardInput:p,configs:i}))}const Ye={labelCol:{span:6},wrapperCol:{span:14}};function et(u){const{formProps:t,schemaList:a,schemaModelJSONCache:n,onGetSchemaModel:r}=u,[l]=d.useForm(),c=f.exports.useRef(""),[o,s]=f.exports.useState(!1),[i,p]=f.exports.useState(!1),m=()=>{const{name:F,description:h}=n.current;l.setFieldsValue({name:F,description:h}),s(!0)},E=F=>{const h=P(b({},F),{formProps:t,schemaList:a});r(h),c.current=JSON.stringify(h,null,4),n.current=c.current,s(!1),p(!0)},g=()=>{navigator.clipboard.writeText(c.current),p(!1)};return e.createElement(f.exports.Fragment,null,e.createElement(N,{type:"primary",disabled:!a.length,onClick:m},"\u751F\u6210\u6A21\u677F"),e.createElement(Z,{title:"\u751F\u6210\u5E76\u53D1\u9001\u6A21\u677F",visible:o,onOk:()=>l.submit(),onCancel:()=>s(!1),getContainer:!1},e.createElement(d,P(b({form:l},Ye),{onFinish:E}),e.createElement(d.Item,{label:"\u6A21\u677F\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u6A21\u677F\u540D\u79F0\uFF01"}]},e.createElement(y,null)),e.createElement(d.Item,{label:"\u63CF\u8FF0",name:"description"},e.createElement(y.TextArea,null)))),e.createElement(Z,{title:"schemaModel",width:"50vw",bodyStyle:{height:"60vh",overflow:"auto"},visible:i,onOk:g,okText:"\u590D\u5236",onCancel:()=>p(!1)},e.createElement("pre",null,c.current)))}function tt(u){const{setSchemaList:t,schemaModelJSONCache:a}=u,[n,r]=f.exports.useState(!1),[l,c]=f.exports.useState(""),o=()=>{a.current=JSON.parse(l),t(a.current.schemaList),r(!1)};return e.createElement(f.exports.Fragment,null,e.createElement(N,{type:"primary",onClick:()=>r(!0)},"\u6CE8\u5165\u6A21\u677F"),e.createElement(Z,{title:"\u6CE8\u5165schemaModel",width:"50vw",bodyStyle:{height:"60vh",overflow:"auto"},visible:n,onOk:o,okButtonProps:{disabled:!l},onCancel:()=>r(!1)},e.createElement(y.TextArea,{value:l,onChange:s=>c(s.target.value),allowClear:!0,autoSize:{minRows:6},placeholder:"\u8BF7\u9ECF\u8D34JSON\u683C\u5F0F\u7684schemaModel\uFF5E"})))}const at={labelCol:{span:8},wrapperCol:{span:14}};function nt(u){const{formProps:t,visible:a,setVisible:n}=u,[r]=d.useForm(),l=()=>{const o=r.getFieldsValue();o.name||(o.name=void 0),t.current=o,n(!1)},c=()=>{r.setFieldsValue(t.current),n(!1)};return e.createElement(f.exports.Fragment,null,e.createElement(N,{type:"link",onClick:()=>n(!0)},"FormProps"),e.createElement(Z,{title:"\u8BBE\u7F6EForm\u7684\u5C5E\u6027",visible:a,bodyStyle:{height:"60vh",overflow:"auto"},onOk:l,onCancel:c},e.createElement(d,P(b({form:r},at),{initialValues:t.current}),e.createElement(d.Item,{label:"name",name:"name"},e.createElement(y,{prefix:'"',suffix:'"'})),e.createElement(d.Item,{label:"labelCol",required:!0},e.createElement(I,null,e.createElement(d.Item,{label:"span",name:["labelCol","span"],colon:!1},e.createElement(M,{min:0,max:24})),e.createElement(d.Item,{label:"offset",name:["labelCol","offset"],colon:!1},e.createElement(M,{min:0,max:24})))),e.createElement(d.Item,{label:"wrapperCol",required:!0},e.createElement(I,null,e.createElement(d.Item,{label:"span",name:["wrapperCol","span"],colon:!1},e.createElement(M,{min:0,max:24})),e.createElement(d.Item,{label:"offset",name:["wrapperCol","offset"],colon:!1},e.createElement(M,{min:0,max:24})))),e.createElement(d.Item,{label:"colon",name:"colon",required:!0,valuePropName:"checked"},e.createElement(J,null)),e.createElement(d.Item,{label:"labelAlign",name:"labelAlign",required:!0},e.createElement(C.Group,null,e.createElement(C,{value:"left"},"left"),e.createElement(C,{value:"right"},"right"))),e.createElement(d.Item,{label:"layout",name:"layout",required:!0},e.createElement(C.Group,null,e.createElement(C,{value:"horizontal"},"horizontal"),e.createElement(C,{value:"vertical"},"vertical"),e.createElement(C,{value:"inline"},"inline"))),e.createElement(d.Item,{label:"scrollToFirstError",name:"scrollToFirstError",required:!0,valuePropName:"checked"},e.createElement(J,null)),e.createElement(d.Item,{label:"size",name:"size"},e.createElement(B,{allowClear:!0},e.createElement(B.Option,{value:"small"},"small"),e.createElement(B.Option,{value:"middle"},"middle"),e.createElement(B.Option,{value:"large"},"large"))),e.createElement(d.Item,{label:"validateTrigger",name:"validateTrigger",required:!0},e.createElement(y,{prefix:'"',suffix:'"'})),e.createElement(d.Item,{label:"preserve",name:"preserve",required:!0,valuePropName:"checked"},e.createElement(J,null)),e.createElement(d.Item,{label:"requiredMark",name:"requiredMark",required:!0,valuePropName:"checked"},e.createElement(J,null)))))}function lt(u){const{activeSchema:t,schemaList:a,setSchemaList:n,forceRender:r,onGetSchemaModel:l}=u,[c]=d.useForm(),o=f.exports.useRef({}),s=f.exports.useRef({name:void 0,labelCol:{span:6,offset:0},wrapperCol:{span:16,offset:0},colon:!0,labelAlign:"right",layout:"horizontal",scrollToFirstError:!1,size:void 0,validateTrigger:"onChange",preserve:!0,requiredMark:!0}),i=f.exports.useRef(null),[p,m]=f.exports.useState(!1),E=h=>{h.preventDefault(),h.dataTransfer.dropEffect="copy"},g=h=>{h.preventDefault();const S=h.dataTransfer.getData("text/plain");if(!S)return;const D=R.total[S],q=new Re(S,D);n([...a,q])},F=()=>{t.current=null,n([])};return f.exports.useEffect(()=>{c.validateFields()}),e.createElement("div",{className:"leggo-configs-middle"},e.createElement("div",{className:"top-area"},e.createElement("strong",null,"\u8868\u5355\u6A21\u677F"),e.createElement("div",{className:"top-actions"},e.createElement(nt,{formProps:s,visible:p,setVisible:m}),e.createElement(tt,{setSchemaList:n,schemaModelJSONCache:o}),e.createElement(et,{formProps:s.current,schemaList:a,schemaModelJSONCache:o,onGetSchemaModel:l}),e.createElement(N,{onClick:F},"clear"))),e.createElement(d,P(b({form:c},s.current),{className:"leggo-configs-middle-form"}),e.createElement("div",{className:"drop-area",onDragOver:E,onDrop:g},a.map((h,S)=>e.createElement(Qe,{key:h.id,index:S,targetIndex:i,activeSchema:t,schema:h,setSchemaList:n,forceRender:r})))))}function oe(u){const t=f.exports.useRef(null),[a,n]=f.exports.useState([]),[,r]=f.exports.useState(0),l=()=>r(c=>c+1);return e.createElement("div",{className:"leggo-configs"},e.createElement(Je,null),e.createElement(lt,{schemaList:a,setSchemaList:n,activeSchema:t,forceRender:l,onGetSchemaModel:u.onGetSchemaModel}),e.createElement(Xe,{schemaList:a,activeSchema:t,forceRender:l}))}oe.registerItemStore=u=>{const{storeName:t,store:a}=u;R[t]||(R[t]=a,R.total=b(b({},a),R.total))};function rt(u){const{itemProps:t}=u;switch(t.label){case"\u6807\u9898":u.itemProps.label="\u6807\u9898\u589E\u52A0\u53F3\u4FA7\u540C\u6B65\u6309\u94AE",u.Successor=a=>e.createElement("div",{style:{display:"flex"}},a.children,e.createElement(N,null,"\u540C\u6B65"));break;case"\u5360\u4F4D\u8868\u5355":u.SuperSuccessor=()=>e.createElement(d.Item,{label:"\u5C01\u9762\u56FE",name:"covers"},e.createElement(N,{icon:e.createElement(W,null)}));break;case"\u9009\u9879":case"\u591A\u9009":u.itemProps.label="\u9009\u9879\u5DF2\u589E\u52A0",u.inputProps.options=[{label:"A",value:1},{label:"B",value:2},{label:"C",value:3},{label:"D",value:4},{label:"E",value:5}]}}function ut(u){const{schemaModel:t}=u,{name:a,description:n}=t,[r]=d.useForm(),l=ue.useLeggo(t,null,{test:!0,func:()=>!1}),[c,o]=f.exports.useState(!1),s=()=>{const p=JSON.stringify(t,null,4);navigator.clipboard.writeText(p),o(!1)},i=()=>{l.resetSchemaModel(t,rt)};return f.exports.useEffect(()=>{},[t]),e.createElement("div",{className:"show-form"},e.createElement("div",{className:"header"},e.createElement("div",null,"\u6A21\u677F\u540D\uFF1A",a),e.createElement("div",null,"\u63CF\u8FF0\uFF1A",n),e.createElement("div",null,e.createElement("span",null,"\u64CD\u4F5C\uFF1A"),e.createElement(I,null,e.createElement(N,{onClick:()=>o(!0)},"\u67E5\u770BschemaModel"),e.createElement(N,{onClick:i},"\u6539\u9020\u8868\u5355")))),e.createElement(K,null),e.createElement(ue,{leggo:l,form:r,onValuesChange:console.log,onFinish:console.log}),e.createElement(Z,{title:"schemaModel",width:"50vw",bodyStyle:{height:"70vh",overflow:"auto"},visible:c,onOk:s,okText:"\u590D\u5236",onCancel:()=>o(!1)},e.createElement("pre",null,JSON.stringify(t,null,4))))}function st(){const u=f.exports.useRef({}),[t,a]=f.exports.useState(["configs"]),[n,r]=f.exports.useState(null),[l,c]=f.exports.useState(0),o=f.exports.useMemo(()=>Object.entries(u.current),[l]),s=p=>{const m=p.name;u.current[m]=JSON.parse(JSON.stringify(p)),c(E=>E+1),console.log("\u53D1\u9001schema\uFF5E\uFF5E\uFF5E\uFF5E\uFF5E\uFF5E",p)},i=f.exports.useMemo(()=>{switch(t[0]){case"configs":return e.createElement(oe,{onGetSchemaModel:s});case"readme":return e.createElement("iframe",{style:{border:"none"},width:"100%",height:"100%",src:"../README.html"});default:return e.createElement(ut,{schemaModel:n})}},[t]);return f.exports.useMemo(()=>{oe.registerItemStore(ot)},[]),e.createElement("div",{className:"App"},e.createElement("div",{className:"header"},e.createElement("div",{className:"slogan"},"leggo\uFF0C\u62D6\u62FD\u5F0F\u8868\u5355\u751F\u6210\u4F4E\u4EE3\u7801\u5E73\u53F0\uFF01"),e.createElement(j,{onSelect:({key:p})=>a([p]),defaultSelectedKeys:["configs"],mode:"horizontal"},e.createElement(j.Item,{key:"configs",icon:e.createElement(we,null)},"\u914D\u7F6E\u6A21\u677F"),e.createElement(j.SubMenu,{key:"list",title:"\u6A21\u677F\u5217\u8868",disabled:!o.length,icon:e.createElement(Oe,null)},o.map(([p,m])=>e.createElement(j.Item,{key:p,onClick:()=>r(m)},p))),e.createElement(j.Item,{key:"readme",icon:e.createElement(Ae,null)},"\u9879\u76EE\u4ECB\u7ECD"))),e.createElement("div",{className:"content-area"},i))}const ot={storeName:"other1",store:{multiCover:{type:"multiCover",StandardInput:ct,configs:{itemProps:{name:"cover_type",label:"\xA0\u5C01\u9762\u56FE",colon:!0,rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u5C01\u9762\u56FE\uFF01"}]},inputProps:{disabled:!1}}},carInfos:{type:"carInfos",StandardInput:()=>e.createElement("div",null,"\u5B9A\u5236\u5316\u7EC4\u4EF6"),configs:{itemProps:{name:"carInfos",label:"\u8F66\u7CFB-\u8F66\u578B",colon:!0,rules:[{required:!1}]},inputProps:{disabled:!1}}}}};function ct(u){const{disabled:t,value:a,onChange:n}=u,[r,l]=f.exports.useState((a==null?void 0:a.slice(0,1))||[""]),c=s=>{const i=s.target.value,p=[...(a==null?void 0:a.slice(0,i))||[],"","",""];p.length=i,n(p),l(p)},o=s=>{console.log(s)};return e.createElement("div",{className:"multi-cover"},e.createElement(C.Group,{defaultValue:1,onChange:c,disabled:t},e.createElement(C,{value:1},"\u5355\u56FE"),e.createElement(C,{value:3},"\u4E09\u56FE")),e.createElement("div",{className:"multi-cover-list"},t&&e.createElement("div",{className:"multi-cover-list-mask"}),r.map((s,i)=>e.createElement("div",{key:s+i,className:"multi-cover-list-item",onClick:()=>o(i)},s&&e.createElement("div",{className:"multi-cover-list-item-mask"},e.createElement("span",null,"\u66FF\u6362")),s?e.createElement("img",{src:s,alt:"\u5C01\u9762\u56FE",width:"100%"}):e.createElement(W,null)))))}De.render(e.createElement(st,null),document.getElementById("root"));
